!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ariaMenuButton=e()}}(function(){return function e(t,n,o){function r(u,s){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e("react"),s=o(u),a=e(7),p=o(a),c=function(e){function t(n){r(this,t),e.call(this,n),n.manager.button=this}return i(t,e),t.prototype.handleKeyDown=function(e){var t=this.props.manager,n=e.key;return n===p["default"].DOWN?(e.preventDefault(),void(t.isOpen?t.moveFocusDown():t.openMenu({focusMenu:!0}))):n===p["default"].ENTER||n===p["default"].SPACE?(e.preventDefault(),void t.toggleMenu()):void t.handleMenuKey(e)},t.prototype.handleClick=function(){this.props.manager.toggleMenu()},t.prototype.render=function(){var e=this.props,t=e.manager,n=e.children,o=e.tag,r=e.className,i=e.id;return s["default"].createElement(o,{className:r,id:i,role:"button",tabIndex:"0","aria-haspopup":!0,"aria-expanded":t.isOpen,onKeyDown:this.handleKeyDown.bind(this),onClick:this.handleClick.bind(this),onBlur:t.handleBlur},n)},t}(s["default"].Component);n["default"]=c,c.propTypes={children:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.element]).isRequired,manager:u.PropTypes.object.isRequired,className:u.PropTypes.string,id:u.PropTypes.string,tag:u.PropTypes.string},c.defaultProps={tag:"span"},t.exports=n["default"]},{7:7,react:"react"}],2:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=this;setTimeout(function(){var t=document.activeElement;t!==p["default"].findDOMNode(e.button)&&(e.menuItems.some(function(e){return e.node===t})||e.isOpen&&e.closeMenu({focusButton:!1}))},0)}function u(e,t){this.options.closeOnSelection&&this.closeMenu(),this.options.onSelection(e,t)}function s(e){if(this.isOpen)switch(e.key){case l["default"].ESCAPE:e.preventDefault(),this.closeMenu();break;case l["default"].UP:e.preventDefault(),this.moveFocusUp();break;case l["default"].DOWN:e.preventDefault(),this.moveFocusDown();break;default:if(!d["default"](e.keyCode))return;e.preventDefault(),this.moveToLetter(String.fromCharCode(e.keyCode))}}n.__esModule=!0;var a=e("react"),p=o(a),c=e(7),l=o(c),f=e(6),d=o(f),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),this.options=t,"undefined"==typeof this.options.closeOnSelection&&(this.options.closeOnSelection=!0),this.handleBlur=i.bind(this),this.handleSelection=u.bind(this),this.handleMenuKey=s.bind(this),this.button=null,this.menu=null,this.menuItems=[],this.isOpen=!1,this.currentFocus=-1}return e.prototype.update=function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen})},e.prototype.openMenu=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.focusMenu,o=void 0===n?!1:n;this.isOpen=!0,this.update(),o?setTimeout(function(){return e.moveFocus(0)},0):this.currentFocus=-1},e.prototype.closeMenu=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.focusButton,n=void 0===t?!0:t;this.isOpen=!1,this.update(),n&&p["default"].findDOMNode(this.button).focus()},e.prototype.toggleMenu=function(){this.isOpen?this.closeMenu():this.openMenu()},e.prototype.moveFocus=function(e){this.menuItems[e].node.focus(),this.currentFocus=e},e.prototype.moveFocusUp=function(){var e=this.menuItems,t=this.currentFocus,n=-1===t||0===t?e.length-1:t-1;this.moveFocus(n)},e.prototype.moveFocusDown=function(){var e=this.menuItems,t=this.currentFocus,n=-1===t||t===e.length-1?0:t+1;this.moveFocus(n)},e.prototype.moveToLetter=function(e){for(var t=this.menuItems,n=this.currentFocus,o=t.slice(n+1).concat(t.slice(0,n+1)),r=0,i=o.length;i>r;r++){var u=o[r];if(!u.text&&!u.content.charAt)throw new Error("ariaMenuButton MenuItems must have a textual child or a `text` prop");if(u.text){if(u.text.charAt(0).toLowerCase()!==e.toLowerCase())continue}else if(u.content.charAt(0).toLowerCase()!==e.toLowerCase())continue;return void this.moveFocus(t.indexOf(u))}},e}();n["default"]=h,t.exports=n["default"]},{6:6,7:7,react:"react"}],3:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e("react"),s=o(u),a=function(e){function t(n){r(this,t),e.call(this,n),n.manager.menu=this}return i(t,e),t.prototype.componentWillUpdate=function(){var e=this.props.manager;e.isOpen||(e.menuItems=[])},t.prototype.render=function(){var e=this.props,t=e.manager,n=e.children,o=e.tag,r=e.className,i=e.id,u=e.noOverlay,a=function(){return"function"==typeof n?n({isOpen:t.isOpen}):t.isOpen?n:[]}(),p=s["default"].createElement(o,{className:r,id:i,onKeyDown:t.handleMenuKey,role:"menu",onBlur:t.handleBlur,style:u?void 0:{position:"relative",zIndex:100}},a);if(u)return p;var c=t.isOpen?s["default"].createElement("div",{style:{cursor:"pointer",position:"fixed",top:0,bottom:0,left:0,right:0,WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:99},onClick:t.closeMenu}):!1;return s["default"].createElement("div",{},p,c)},t}(s["default"].Component);n["default"]=a,a.propTypes={children:u.PropTypes.oneOfType([u.PropTypes.func,u.PropTypes.element]).isRequired,manager:u.PropTypes.object.isRequired,id:u.PropTypes.string,className:u.PropTypes.string,noOverlay:u.PropTypes.bool,tag:u.PropTypes.string},a.defaultProps={tag:"div"},t.exports=n["default"]},{react:"react"}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e("react"),s=o(u),a=e(7),p=o(a),c=function(e){function t(){r(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props;this.managedIndex=e.manager.menuItems.push({node:s["default"].findDOMNode(this),content:e.children,text:e.text})-1},t.prototype.handleKeyDown=function(e){(e.key===p["default"].ENTER||e.key===p["default"].SPACE)&&(e.preventDefault(),this.selectItem(e))},t.prototype.selectItem=function(e){var t=this.props,n="undefined"!=typeof t.value?t.value:t.children;t.manager.handleSelection(n,e),t.manager.currentFocus=this.managedIndex},t.prototype.render=function(){var e=this.props,t=e.tag,n=e.children,o=e.className,r=e.id;return s["default"].createElement(t,{className:o,id:r,onClick:this.selectItem.bind(this),onKeyDown:this.handleKeyDown.bind(this),role:"menuitem",tabIndex:"-1"},n)},t}(s["default"].Component);n["default"]=c,c.propTypes={children:u.PropTypes.oneOfType([u.PropTypes.element,u.PropTypes.string,u.PropTypes.arrayOf(u.PropTypes.element)]).isRequired,manager:u.PropTypes.object.isRequired,className:u.PropTypes.string,id:u.PropTypes.string,tag:u.PropTypes.string,text:u.PropTypes.string,value:u.PropTypes.oneOfType([u.PropTypes.bool,u.PropTypes.number,u.PropTypes.string])},c.defaultProps={tag:"div"},t.exports=n["default"]},{7:7,react:"react"}],5:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=e("react"),a=o(s),p=e(2),c=o(p),l=e(1),f=o(l),d=e(3),h=o(d),y=e(4),m=o(y);n["default"]=function(e){var t=new c["default"](e);return{Button:function(e){function n(){r(this,n),e.apply(this,arguments)}return i(n,e),n.prototype.render=function(){return a["default"].createElement(f["default"],u({manager:t},this.props))},n}(a["default"].Component),Menu:function(e){function n(){r(this,n),e.apply(this,arguments)}return i(n,e),n.prototype.render=function(){return a["default"].createElement(h["default"],u({manager:t},this.props))},n}(a["default"].Component),MenuItem:function(e){function n(){r(this,n),e.apply(this,arguments)}return i(n,e),n.prototype.render=function(){return a["default"].createElement(m["default"],u({manager:t},this.props))},n}(a["default"].Component)}},t.exports=n["default"]},{1:1,2:2,3:3,4:4,react:"react"}],6:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){return e>=65&&91>=e},t.exports=n["default"]},{}],7:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]={ENTER:"Enter",SPACE:" ",ESCAPE:"Escape",UP:"ArrowUp",DOWN:"ArrowDown"},t.exports=n["default"]},{}]},{},[5])(5)});